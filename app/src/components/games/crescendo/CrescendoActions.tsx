import { Path, Svg } from "react-native-svg";
import { useTheme } from "@react-navigation/native";

export enum CrescendoActionType {
    PickupSource,
    PickupGround,
    ScoreSpeaker,
    ScoreAmp,
    MissSpeaker,
    MissAmp,
    StartDefense,
    StopDefense,
    StartAmplifying,
    StopAmplifying,
}

export type ActionMetadata = {
    name: string;
    icon?: React.FC<{ color: string }>;
    link_name: string;
};

export const getActionForLink = (link: string): CrescendoActionType | null => {
    for (const action in Object.keys(CrescendoActions)) {
        if (CrescendoActions[Number(action) as CrescendoActionType].link_name === link) {
            return Number(action) as CrescendoActionType;
        }
    }
    return null;
};

export const CrescendoActions: Record<CrescendoActionType, ActionMetadata> = {
    [CrescendoActionType.PickupSource]: {
        name: "Pickup Source",
        list_item_icon: ({ color }: { color: string }) => (
            <Svg width="41" height="32" viewBox="0 0 81 64" fill="none">
                <Path
                    d="M2.53125 38.1187C4.05 38.1187 5.0625 39.1312 5.0625 40.65V53.3062C5.0625 56.3437 7.0875 58.3687 10.125 58.3687H70.875C73.9125 58.3687 75.9375 56.3437 75.9375 53.3062V40.65C75.9375 39.1312 76.95 38.1187 78.4688 38.1187C79.9875 38.1187 81 39.1312 81 40.65V53.3062C81 58.875 76.4437 63.4312 70.875 63.4312H10.125C4.55625 63.4312 0 58.875 0 53.3062V40.65C0 39.1312 1.0125 38.1187 2.53125 38.1187Z"
                    fill={color}
                />
                <Path
                    d="M51.1313 41.1563C52.6501 41.1563 53.6625 40.1438 53.6625 38.625V17.3625C53.6625 15.8438 52.6501 14.8313 51.1313 14.8313C49.6125 14.8313 48.6 15.8438 48.6 17.3625V32.55L17.2125 1.16251C16.2 0.150012 14.6813 0.150012 13.6688 1.16251C12.6563 2.17501 12.6563 3.69376 13.6688 4.70626L45.0563 36.0938H29.8688C28.35 36.0938 27.3375 37.1063 27.3375 38.625C27.3375 40.1438 28.35 41.1563 29.8688 41.1563H51.1313Z"
                    fill={color}
                />
            </Svg>
        ),
        link_name: "pickup_source",
    },
    [CrescendoActionType.PickupGround]: {
        name: "Pickup Ground",
        list_item_icon: ({ color }: { color: string }) => (
            <Svg width="41" height="22" viewBox="0 0 69 38" fill="none">
                <Path
                    d="M68.7824 14.5982C68.6082 14.2262 68.2526 13.8906 67.8055 13.7117L35.4055 0.751728C34.8353 0.522984 34.1646 0.522984 33.5944 0.751728L1.19437 13.7117C0.534221 13.9748 0.0749512 14.5703 0.0749512 15.16V23.26C0.0749512 23.8737 0.508301 24.4348 1.19437 24.7089L33.5944 37.6689C34.1533 37.8931 34.8466 37.8931 35.4055 37.6689L67.8055 24.7089C68.4916 24.4348 68.9249 23.8737 68.9249 23.26V15.16C68.9249 14.9578 68.8699 14.7842 68.7824 14.5982ZM32.475 33.5988L4.12495 22.2588V17.7812L32.475 29.1212V33.5988ZM34.5 26.3088L6.62785 15.16L34.5 4.01117L62.3721 15.16L34.5 26.3088ZM64.875 22.2588L36.525 33.5988V29.1212L64.875 17.7812V22.2588Z"
                    fill={color}
                />
            </Svg>
        ),
        link_name: "pickup_ground",
    },
    [CrescendoActionType.ScoreSpeaker]: {
        name: "Score Speaker",
        list_item_icon: ({ color }: { color: string }) => (
            <Svg width="35" height="45" viewBox="0 0 35 45" fill="none">
                <Path
                    d="M28.75 2.8125C29.4959 2.8125 30.2113 3.10882 30.7387 3.63626C31.2662 4.16371 31.5625 4.87908 31.5625 5.625V39.375C31.5625 40.1209 31.2662 40.8363 30.7387 41.3637C30.2113 41.8912 29.4959 42.1875 28.75 42.1875H6.25C5.50408 42.1875 4.78871 41.8912 4.26126 41.3637C3.73382 40.8363 3.4375 40.1209 3.4375 39.375V5.625C3.4375 4.87908 3.73382 4.16371 4.26126 3.63626C4.78871 3.10882 5.50408 2.8125 6.25 2.8125H28.75ZM6.25 0C4.75816 0 3.32742 0.592632 2.27252 1.64752C1.21763 2.70242 0.625 4.13316 0.625 5.625V39.375C0.625 40.8668 1.21763 42.2976 2.27252 43.3525C3.32742 44.4074 4.75816 45 6.25 45H28.75C30.2418 45 31.6726 44.4074 32.7275 43.3525C33.7824 42.2976 34.375 40.8668 34.375 39.375V5.625C34.375 4.13316 33.7824 2.70242 32.7275 1.64752C31.6726 0.592632 30.2418 0 28.75 0L6.25 0Z"
                    fill={color}
                />
                <Path
                    d="M17.5 13.3594C16.9406 13.3594 16.404 13.1371 16.0084 12.7416C15.6129 12.346 15.3906 11.8094 15.3906 11.25C15.3906 10.6906 15.6129 10.154 16.0084 9.75845C16.404 9.36286 16.9406 9.14062 17.5 9.14062C18.0594 9.14062 18.596 9.36286 18.9916 9.75845C19.3871 10.154 19.6094 10.6906 19.6094 11.25C19.6094 11.8094 19.3871 12.346 18.9916 12.7416C18.596 13.1371 18.0594 13.3594 17.5 13.3594ZM17.5 16.875C18.9918 16.875 20.4226 16.2824 21.4775 15.2275C22.5324 14.1726 23.125 12.7418 23.125 11.25C23.125 9.75816 22.5324 8.32742 21.4775 7.27252C20.4226 6.21763 18.9918 5.625 17.5 5.625C16.0082 5.625 14.5774 6.21763 13.5225 7.27252C12.4676 8.32742 11.875 9.75816 11.875 11.25C11.875 12.7418 12.4676 14.1726 13.5225 15.2275C14.5774 16.2824 16.0082 16.875 17.5 16.875ZM17.5 25.3125C16.3811 25.3125 15.3081 25.757 14.5169 26.5481C13.7257 27.3393 13.2812 28.4124 13.2812 29.5312C13.2812 30.6501 13.7257 31.7232 14.5169 32.5144C15.3081 33.3055 16.3811 33.75 17.5 33.75C18.6189 33.75 19.6919 33.3055 20.4831 32.5144C21.2743 31.7232 21.7188 30.6501 21.7188 29.5312C21.7188 28.4124 21.2743 27.3393 20.4831 26.5481C19.6919 25.757 18.6189 25.3125 17.5 25.3125ZM7.65625 29.5312C7.65625 26.9205 8.69336 24.4167 10.5394 22.5707C12.3855 20.7246 14.8893 19.6875 17.5 19.6875C20.1107 19.6875 22.6145 20.7246 24.4606 22.5707C26.3066 24.4167 27.3438 26.9205 27.3438 29.5312C27.3438 32.142 26.3066 34.6458 24.4606 36.4918C22.6145 38.3379 20.1107 39.375 17.5 39.375C14.8893 39.375 12.3855 38.3379 10.5394 36.4918C8.69336 34.6458 7.65625 32.142 7.65625 29.5312Z"
                    fill={color}
                />
            </Svg>
        ),
        link_name: "score_speaker",
    },
    [CrescendoActionType.ScoreAmp]: {
        name: "Score Amp",
        list_item_icon: ({ color }: { color: string }) => (
            <Svg width="41" height="41" viewBox="0 0 41 41" fill="none">
                <Path
                    d="M35.875 2.5625C37.4125 2.5625 38.4375 3.5875 38.4375 5.125V35.875C38.4375 37.4125 37.4125 38.4375 35.875 38.4375H5.125C3.5875 38.4375 2.5625 37.4125 2.5625 35.875V5.125C2.5625 3.5875 3.5875 2.5625 5.125 2.5625H35.875ZM5.125 0C2.30625 0 0 2.30625 0 5.125V35.875C0 38.6937 2.30625 41 5.125 41H35.875C38.6937 41 41 38.6937 41 35.875V5.125C41 2.30625 38.6937 0 35.875 0H5.125Z"
                    fill={color}
                />
                <Path
                    d="M20.5 7.6875C27.4188 7.6875 33.3125 13.5812 33.3125 20.5C33.3125 27.4188 27.4188 33.3125 20.5 33.3125C13.5812 33.3125 7.6875 27.4188 7.6875 20.5C7.6875 13.5812 13.5812 7.6875 20.5 7.6875Z"
                    fill={color}
                />
            </Svg>
        ),
        link_name: "score_amp",
    },
    [CrescendoActionType.MissSpeaker]: {
        name: "Miss Speaker",
        list_item_icon: ({ color }: { color: string }) => (
            <Svg width="36" height="41" viewBox="0 0 71 81" fill="none">
                <Path
                    d="M55.75 5.0625C57.0927 5.0625 58.3803 5.59587 59.3297 6.54527C60.2791 7.49467 60.8125 8.78234 60.8125 10.125V70.875C60.8125 72.2177 60.2791 73.5053 59.3297 74.4547C58.3803 75.4041 57.0927 75.9375 55.75 75.9375H15.25C13.9073 75.9375 12.6197 75.4041 11.6703 74.4547C10.7209 73.5053 10.1875 72.2177 10.1875 70.875V10.125C10.1875 8.78234 10.7209 7.49467 11.6703 6.54527C12.6197 5.59587 13.9073 5.0625 15.25 5.0625H55.75ZM15.25 0C12.5647 0 9.98935 1.06674 8.09054 2.96554C6.19174 4.86435 5.125 7.43968 5.125 10.125V70.875C5.125 73.5603 6.19174 76.1356 8.09054 78.0345C9.98935 79.9333 12.5647 81 15.25 81H55.75C58.4353 81 61.0106 79.9333 62.9095 78.0345C64.8083 76.1356 65.875 73.5603 65.875 70.875V10.125C65.875 7.43968 64.8083 4.86435 62.9095 2.96554C61.0106 1.06674 58.4353 0 55.75 0L15.25 0Z"
                    fill={color}
                />
                <Path
                    d="M35.5 24.0469C34.493 24.0469 33.5273 23.6468 32.8152 22.9348C32.1032 22.2227 31.7031 21.257 31.7031 20.25C31.7031 19.243 32.1032 18.2773 32.8152 17.5652C33.5273 16.8532 34.493 16.4531 35.5 16.4531C36.507 16.4531 37.4727 16.8532 38.1848 17.5652C38.8968 18.2773 39.2969 19.243 39.2969 20.25C39.2969 21.257 38.8968 22.2227 38.1848 22.9348C37.4727 23.6468 36.507 24.0469 35.5 24.0469ZM35.5 30.375C38.1853 30.375 40.7606 29.3083 42.6595 27.4095C44.5583 25.5107 45.625 22.9353 45.625 20.25C45.625 17.5647 44.5583 14.9893 42.6595 13.0905C40.7606 11.1917 38.1853 10.125 35.5 10.125C32.8147 10.125 30.2393 11.1917 28.3405 13.0905C26.4417 14.9893 25.375 17.5647 25.375 20.25C25.375 22.9353 26.4417 25.5107 28.3405 27.4095C30.2393 29.3083 32.8147 30.375 35.5 30.375ZM35.5 45.5625C33.486 45.5625 31.5545 46.3626 30.1304 47.7867C28.7063 49.2108 27.9062 51.1423 27.9062 53.1562C27.9062 55.1702 28.7063 57.1017 30.1304 58.5258C31.5545 59.9499 33.486 60.75 35.5 60.75C37.514 60.75 39.4455 59.9499 40.8696 58.5258C42.2937 57.1017 43.0937 55.1702 43.0938 53.1562C43.0937 51.1423 42.2937 49.2108 40.8696 47.7867C39.4455 46.3626 37.514 45.5625 35.5 45.5625ZM17.7812 53.1562C17.7812 48.4569 19.648 43.9501 22.971 40.6272C26.2939 37.3043 30.8007 35.4375 35.5 35.4375C40.1993 35.4375 44.7061 37.3043 48.029 40.6272C51.352 43.9501 53.2187 48.4569 53.2188 53.1562C53.2188 57.8556 51.352 62.3624 48.029 65.6853C44.7061 69.0082 40.1993 70.875 35.5 70.875C30.8007 70.875 26.2939 69.0082 22.971 65.6853C19.648 62.3624 17.7812 57.8556 17.7812 53.1562Z"
                    fill={color}
                />
                <Path
                    d="M1.4896 6.4896C1.96058 6.01741 2.5201 5.64279 3.1361 5.38718C3.75209 5.13157 4.41246 5 5.07939 5C5.74631 5 6.40668 5.13157 7.02268 5.38718C7.63867 5.64279 8.19819 6.01741 8.66918 6.4896L35.5013 33.3319L62.3335 6.4896C62.8049 6.01818 63.3646 5.64423 63.9805 5.3891C64.5964 5.13397 65.2566 5.00265 65.9233 5.00265C66.59 5.00265 67.2501 5.13397 67.8661 5.3891C68.482 5.64423 69.0416 6.01818 69.5131 6.4896C69.9845 6.96101 70.3584 7.52067 70.6136 8.1366C70.8687 8.75254 71 9.4127 71 10.0794C71 10.7461 70.8687 11.4062 70.6136 12.0222C70.3584 12.6381 69.9845 13.1978 69.5131 13.6692L42.6708 40.5013L69.5131 67.3335C69.9845 67.8049 70.3584 68.3646 70.6136 68.9805C70.8687 69.5964 71 70.2566 71 70.9233C71 71.59 70.8687 72.2501 70.6136 72.8661C70.3584 73.482 69.9845 74.0416 69.5131 74.5131C69.0416 74.9845 68.482 75.3584 67.8661 75.6136C67.2501 75.8687 66.59 76 65.9233 76C65.2566 76 64.5964 75.8687 63.9805 75.6136C63.3646 75.3584 62.8049 74.9845 62.3335 74.5131L35.5013 47.6708L8.66918 74.5131C8.19776 74.9845 7.6381 75.3584 7.02217 75.6136C6.40623 75.8687 5.74607 76 5.07939 76C4.4127 76 3.75254 75.8687 3.1366 75.6136C2.52067 75.3584 1.96101 74.9845 1.4896 74.5131C1.01818 74.0416 0.644228 73.482 0.389098 72.8661C0.133969 72.2501 0.00265466 71.59 0.00265466 70.9233C0.00265466 70.2566 0.133969 69.5964 0.389098 68.9805C0.644228 68.3646 1.01818 67.8049 1.4896 67.3335L28.3319 40.5013L1.4896 13.6692C1.01741 13.1982 0.642788 12.6387 0.387178 12.0227C0.131569 11.4067 0 10.7463 0 10.0794C0 9.41246 0.131569 8.75209 0.387178 8.1361C0.642788 7.5201 1.01741 6.96058 1.4896 6.4896Z"
                    fill={color}
                />
            </Svg>
        ),
        link_name: "miss_speaker",
    },
    [CrescendoActionType.MissAmp]: {
        name: "Miss Amp",
        list_item_icon: ({ color }: { color: string }) => (
            <Svg width="41" height="41" viewBox="0 0 81 81" fill="none">
                <Path
                    d="M65.75 11.125C68.225 11.125 69.875 12.775 69.875 15.25V64.75C69.875 67.225 68.225 68.875 65.75 68.875H16.25C13.775 68.875 12.125 67.225 12.125 64.75V15.25C12.125 12.775 13.775 11.125 16.25 11.125H65.75ZM16.25 7C11.7125 7 8 10.7125 8 15.25V64.75C8 69.2875 11.7125 73 16.25 73H65.75C70.2875 73 74 69.2875 74 64.75V15.25C74 10.7125 70.2875 7 65.75 7H16.25Z"
                    fill={color}
                />
                <Path
                    d="M40.5 15.1875C54.1688 15.1875 65.8125 26.8312 65.8125 40.5C65.8125 54.1688 54.1688 65.8125 40.5 65.8125C26.8312 65.8125 15.1875 54.1688 15.1875 40.5C15.1875 26.8312 26.8312 15.1875 40.5 15.1875Z"
                    fill={color}
                />
                <Path
                    d="M1.6994 1.6994C2.23672 1.16071 2.87504 0.733322 3.5778 0.441711C4.28055 0.150099 5.03394 0 5.79479 0C6.55565 0 7.30903 0.150099 8.01179 0.441711C8.71454 0.733322 9.35286 1.16071 9.89019 1.6994L40.5015 32.3223L71.1128 1.6994C71.6507 1.16158 72.2891 0.734964 72.9918 0.443901C73.6945 0.152837 74.4477 0.00302855 75.2082 0.00302855C75.9688 0.00302855 76.722 0.152837 77.4247 0.443901C78.1273 0.734964 78.7658 1.16158 79.3036 1.6994C79.8415 2.23721 80.2681 2.87569 80.5591 3.57838C80.8502 4.28107 81 5.03421 81 5.79479C81 6.55538 80.8502 7.30852 80.5591 8.01121C80.2681 8.71389 79.8415 9.35237 79.3036 9.89019L48.6807 40.5015L79.3036 71.1128C79.8415 71.6507 80.2681 72.2891 80.5591 72.9918C80.8502 73.6945 81 74.4477 81 75.2082C81 75.9688 80.8502 76.722 80.5591 77.4247C80.2681 78.1273 79.8415 78.7658 79.3036 79.3036C78.7658 79.8415 78.1273 80.2681 77.4247 80.5591C76.722 80.8502 75.9688 81 75.2082 81C74.4477 81 73.6945 80.8502 72.9918 80.5591C72.2891 80.2681 71.6507 79.8415 71.1128 79.3036L40.5015 48.6807L9.89019 79.3036C9.35237 79.8415 8.71389 80.2681 8.01121 80.5591C7.30852 80.8502 6.55538 81 5.79479 81C5.03421 81 4.28107 80.8502 3.57838 80.5591C2.87569 80.2681 2.23721 79.8415 1.6994 79.3036C1.16158 78.7658 0.734964 78.1273 0.443901 77.4247C0.152837 76.722 0.00302855 75.9688 0.00302855 75.2082C0.00302855 74.4477 0.152837 73.6945 0.443901 72.9918C0.734964 72.2891 1.16158 71.6507 1.6994 71.1128L32.3223 40.5015L1.6994 9.89019C1.16071 9.35286 0.733322 8.71454 0.441711 8.01179C0.150099 7.30903 0 6.55565 0 5.79479C0 5.03394 0.150099 4.28055 0.441711 3.5778C0.733322 2.87504 1.16071 2.23672 1.6994 1.6994Z"
                    fill={color}
                />
            </Svg>
        ),
        link_name: "miss_amp",
    },
    [CrescendoActionType.StartDefense]: {
        name: "Start Defense",
        link_name: "defense_start",
    },
    [CrescendoActionType.StopDefense]: {
        name: "Stop Defense",
        link_name: "defense_stop",
    },
    [CrescendoActionType.StartAmplifying]: {
        name: "Start Amplifying",
        link_name: "amplify_start",
    },
    [CrescendoActionType.StopAmplifying]: {
        name: "Stop Amplifying",
        link_name: "amplify_stop",
    },
};

export const CrescendoActionIcon = ({ action }: { action: CrescendoActionType }) => {
    const { colors } = useTheme();
    const metadata = CrescendoActions[action];
    return metadata.icon
        ? metadata.icon({
              color: colors.text,
          })
        : null;
};
